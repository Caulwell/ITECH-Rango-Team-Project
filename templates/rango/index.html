{% extends 'rango/base.html' %}
{% load staticfiles %}

{% block title_block %}
    Homepage
{% endblock %} 

{% block body_block %}
<div class="jumbotron p-4">
    <div class="container">
        <h1 class="jumbotron-heading">Rango says...</h1>
    <div>
        <h2 class="h2">
            {% if user.is_authenticated %}
                howdy {{ user.username }}!
            {% else %}
                hey there partner!
            {% endif %}
        </h2>
        <strong>{{ boldmessage }}</strong>
    </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <div class="card mb-6">
                <div class="card-body">
                    <h2>Most Liked Categories</h2>
                    <p class="card-text">
                    {% if categories %}
                        <ul class="list-group">
                        {% for category in categories %}
                            <li class="list-group-item">
                                <a href="{% url 'rango:show_category' category.slug %}">
                                {{ category.name }}</a>
                            </li>
                        {% endfor %}
                        </ul>
                    {% else %}
                        <strong>There are no categories present.</strong>
                    {% endif %}
                    </p>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card mb-6">
                <div class="card-body">
                    <h2>Most Viewed Pages</h2>
                    <p class="card-text">
                    {% if pages %}
                        <ul class="list-group">
                        {% for page in pages %}
                            <li class="list-group-item">
                                <a href="{{ page.url }}">{{ page.title }}</a>
                            </li>
                        {% endfor %}
                        </ul>
                    {% else %}
                        <strong>There are no pages present.</strong>
                    {% endif %}
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
<div>



<div class="container">
    <div class="custom_slider">
        <h2>Most Viewed Pages</h2>
        <ul class="hs full">
        {% for page in pages %}
        <li class="list-group-item border-0">
            <div class="card" style="width: 22rem;">
                <div class="card-body">
                    <h5 class="card-title">{{ page.name }}</h5>
                    <span class="badge badge-primary badge-pill">Views: {{ page.views }}</span>
                    <a href="{{ page.url }}">Go to Site </a>
                </div>
            </div>
        </li>
        {% endfor %}
        </ul>
        
    </div>
</div>
</br>

<div class="container">
    <div class="custom_slider">
        <h2>Most Liked Categories</h2>
        <ul class="hs full">
        {% for category in categories %}
        <li class="list-group-item border-0">
            <div class="card" style="width: 22rem;">
                <div class="card-body">
                    <h5 class="card-title">{{ category.name }}</h5>
                    <span class="badge badge-success badge-pill">Likes: {{ category.likes }}</span>
                    <a href="{% url 'rango:show_category' category.slug %}">Go to Category </a>
                </div>
            </div>
        </li>
        {% endfor %}
        </ul>
        
    </div>
</div>
</br>

{% endblock %}

